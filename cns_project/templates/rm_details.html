{% extends 'base.html '%}
{% load static %}
{% load bootstrap5 %}
{% block title %}Detail Raw Material{% endblock %}

{% block content %}

<div class="container mt-4" >
    <div class="table-responsive">
        <input class="search_input mt-5" style="float:left;" type="text" id="searchInput" placeholder="Search by RST...">

        <table class="table" id="raw_table" style=" overflow:scroll;">
            <thead>
                <tr>
                    <th>Sr no.</th>
                    <th>RST</th>
                    <th>Net Weight</th>
                    <th>Rate</th>
                    <th>total</th>
                    <th scope="col">Created at </th>
                    <th scope="col">Updated at </th>
                    {% if user.is_superuser %}
                    <th>Action</th>
                    {% endif %}
                    <!-- Add more table headers based on your model fields -->
                </tr>
            </thead>

            <tbody >
                {% for item in rm_data %}
                    <tr style="">
                        <td style="  ">{{ forloop.counter }}</td>
                        <td id="raw_rst">{{ item.rst_no }}</td>
                        <td>{{ item.net_wt }}</td>
                        <td>{{ item.rate }}</td>
                        <td>{{ item.total }}</td>
                        <td>{{item.created_at |date:"d-m-y H:i:s A"}}</td>
                        <td>{{item.updated_at |date:"d-m-y H:i:s A"}}</td>
                        {% if user.is_superuser %}

                        <td>
                                <a href="{% url 'rm_update' item.id %}">
                                    <button type="button">Update</button>
                                </a>
                                <a href="{% url 'delete_rm_entry' item.id %}">
                                    <button type="button">Delete</button>
                                </a>
                        </td>
                        {% endif %}
                        <!-- Add more table data based on your model fields -->
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</div>



<script>
    $(document).ready(function() {
        $("#searchInput").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#raw_table tbody tr").filter(function() {
                $(this).toggle($(this).find("#raw_rst").text().toLowerCase().indexOf(value) > -1);
            });
        });
    });
</script>


{% endblock %}
