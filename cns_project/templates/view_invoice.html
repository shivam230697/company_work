<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>{% block title %}Invoice{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/practice.css' %}">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script  id="data" type="text/javascript" src="{% static 'js/practice.js' %}"></script>


</head>
<body class="base_body" >
    {% if messages %}
        <div class="container mt-5">
            {% for message in messages %}
              <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {% endfor %}
        </div>
    {% else %}
        <button class="btn btn-primary mx-2 my-2"  id="printButton">Print</button>
        <a href="{% url 'view_invoices' %}" class="btn btn-primary mx-2 my-2" id="back_btn"
           style="float:right;" role="button">Back</a>
        <div class="container border border-dark border-5 mt-5 text-center w-100 invoice-container" style="background-color:white;">
            <div class="row">
                <div class="col-md-8">
                <div class="col fs-1 display-5 text-start mt-3"><b>Chaudhary Girraj & Sons</b></div>
                <div class="text-start">Manufacturing Biomass Briquettes</div>
                <div class="text-start">Shivpuri-Kota Highway, Mamoni (Rajasthan)</div>
                <div class="text-start">Phone: +91 9425126230, 9827672604</div>
                <div class=" text-start">Date: {{invoice.invoice_date |date:"d-m-Y" |safe}}</div>
                </div>
                <div class="col-md-4 text-end mt-2 ">
                    <img class="  img-thumbnail" src="{% static 'images/logo.jpeg'%}" style="width:150px; height:150px; border:0px solid black; border-radius:30px;">
                </div>
            </div>
            <div class="row">
                <div class="fs-4 col text-center">TAX INVOICE</div>
            </div>
            <div class="row mx-1">
                <div class="col-6 text-start">Invoice Id: {{invoice.invoice_id |safe}}</div>
                <!--<div class="col-6 text-start">Date: {{invoice.invoice_date |date:"d-m-y" |safe}}</div>-->
                <div class="col-6 text-end">GSTIN: 22AAAAA0000A1Z5</div>
            </div>
            <div class="row mx-1" style="border:1px black solid; font-size:12px;" >
                <div class="col-6 text-start" style="border:1px black solid;"><u><span class="text-center fs-6">Customer Details:</span></u>
                    <dl class="row">
                        <dt class="col-md-2">Name:</dt>
                        <dd class="col-md-10">{{customer.customer_name|safe}}</dd>
                        <dt class="col-md-2">GSTIN:</dt>
                        <dd class="col-md-10">{{customer.customer_gstin|safe}}</dd>
                        <dt class="col-md-2">Address:</dt>
                        <dd class="col-md-10">{{customer.customer_address}}, {{customer.customer_state}},  {{customer.zip_code}}</dd>
                        <dt class="col-md-2">Number:</dt>
                        <dd class="col-md-10">{{customer.customer_number}}</dd>
                    </dl>
                </div>
                <div class="col-6 text-start" style="border:1px black solid;">

                        <div class="col">
                            <span class="fs-6"><u>Shipping Details:</u></span>
                            <dl class="row">
                                <dt class="col-md-5"><b>Address:</b></dt>
                                <dd class="col-md-7">{{invoice.shipping_address}}, {{invoice.shipping_city}},  {{invoice.shipping_state}}, {{invoice.shipping_zip_code}}<br></dd>

                                <dt class="col-md-5"><b>Driver Name:</b></dt>
                                <dd class="col-md-7">{{invoice.driver_name}}<br></dd>
                                <dt class="col-md-5"><b>Driver Number:</b></dt>
                                <dd class="col-md-7">{{invoice.driver_number}}<br></dd>
                                <dt class="col-md-5"><b>Vehicle Number:</b></dt>
                                <dd class="col-md-7">{{invoice.assigned_vehicle}}<br></dd>
                            </dl>
                        </div>


                </div>
            </div>

            <div class="row mt-2">
                <div class="col table-responsive">
                    <table class="table text-nowrap cd " >
                        <thead class="border">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Product</th>
                                <th scope="col">HSN/SAC</th>
                                <th scope="col">Qty</th>
                                <th scope="col">Price</th>

                                <th scope="col">Total</th>
                            </tr>
                        </thead>
                        <tbody class="border">
                            <tr>
                                <th scope="row">1</th>
                                    <td>Item 45mm</td>
                                    <td>8</td>
                                    <td>{{invoice.item_45mm_quantity}} Kg</td>
                                    <td>{{invoice.item_45mm_rate}} Rs</td>
                                    <td>{{invoice.total_45mm}} Rs</td>
                            </tr>
                            <tr>
                                <th scope="row">2</th>
                                    <td>Item 90mm</td>
                                    <td>8</td>
                                    <td>{{invoice.item_90mm_quantity}} Kg</td>
                                    <td>{{invoice.item_90mm_rate}} Rs</td>
                                    <td>{{invoice.total_90mm}} Rs</td>
                            </tr>
                            <tr>
                                <th scope="row">3</th>
                                    <td>Item Pencil</td>
                                    <td>8</td>
                                    <td>{{invoice.item_pencil_quantity}} Kg</td>
                                    <td>{{invoice.item_pencil_rate}} Rs</td>
                                    <td>{{invoice.total_pencil}} Rs</td>
                            </tr>

                        </tbody>
                        <tfoot style="font-size:12px;">
                            <tr>
                                <td colspan="3" class="border"><strong >Payment details</strong></td>
                                <td class="border" colspan="2"><strong>Sub Total</strong></td>
                                <td class="border">{{invoice.total}} Rs</td>
                            </tr>
                            <tr>
                                <td colspan="3" rowspan="3" class="border text-start" style="font-size:12px;">

                                    <!--<dl class="row">
                                        <dt class="col-4">Account No.</dt>
                                        <dd class="col-8">39238765008</dd>
                                        <dt class="col-4">BANK NAME</dt>
                                        <dd class="col-8">HDFC</dd>
                                        <dt class="col-4">BANK BRANCH</dt>
                                        <dd class="col-8">CITY CENTER</dd>
                                        <dt class="col-4">BANK IFSC</dt>
                                        <dd class="col-8">HDFC000023</dd>
                                    </dl>-->

                                    <table class="table" >
                                        <tr>
                                            <th class="border-right">Account Number</th>
                                            <td>39238765008</td>
                                        </tr>
                                        <tr>
                                            <th>Bank Name</th>
                                            <td>HDFC</td>
                                        </tr>
                                        <tr>
                                            <th>BANK BRANCH </th>
                                            <td>CITY CENTER</td>
                                        </tr>
                                        <tr>
                                            <th>BANK IFSC</th>
                                            <td>HDFC000023</td>
                                        </tr>
                                    </table>
                                </td>

                                <td class="border" colspan="2"><strong>GST</strong></td>
                                <td class="border">{{invoice.gst}}%</td>
                            </tr>
                            <tr>
                                <td class="border" colspan="2"><strong>Discount</strong></td>
                                <td class="border">{{invoice.discount}}%</td>
                            </tr>
                            <tr>
                                <td class="border" colspan="2"><strong>Payment</strong></td>
                                <td class="border">{{invoice.payment}} Rs</td>
                            </tr>
                            <tr>
                                <td class="border text-start" colspan="6"><strong>Payment(in words):</strong> {{words_payment}}</td>

                            </tr>
                        </tfoot>
                    </table>

                </div>
            </div>
            <div class="row" style="font-size:12px;">
                <div class="row">
                    <div class="col text-start">
                        <h5>Terms and Conditions:</h5>
                        <ol>
                            <li>Our responsibility ceases as soon as goods leave our premises</li>
                            <li>subject to rajasthan jurisdiction</li>
                            <li>Goods once sold will not be taken back</li>

                        </ol>
                    </div>
                </div>

                <div class="row mt-5">
                    <div class="col-12 text-end">
                        <p>Authorised Signature</p>
                    </div>
                </div>
            </div>

        </div>

    {% endif %}

    <script>
        $(document).ready(function () {
            $( "#printButton" ).click(function() {
                $( "#printButton" ).hide();
                $( "#back_btn" ).hide();
                window.print();
                $( "#printButton" ).show();
                $( "#back_btn" ).show();
            });

        });
    </script>

</body>
</html>